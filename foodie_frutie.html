<!--

Author: Andy Su
Date: June 06, 2017
Purpose: It is used to determine what to eat at Foodie Frutie

-->

<!DOCTYPE html>
<html>
<head>
	<title> What To Eat At Foodie Frutie</title>
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

</head>
<body>

	<div class = "container" style="text-align: center;">
		<input id = "input">
		<h1>The text entered is </h1>
		<h1 id = "text"></h1>
		<h2 id = "space" style = "display:none;"> you typed space </h2>
	</div>
	<div>
		<h1>Welcome to Foodie Frutie chooser</h1>
		<button class = "btn btn-info" onclick="roll(0,0,'combo')"> Combos </button>
		<button class = "btn btn-info" onclick = "roll(0,0,'ramen')"> Ramens </button>
	</div>
	<div>
		<h1 id = "menu" style="display: none;"></h1>
		<h2 id = "result"> result is : </h2>
		<h2 id = "soup" style="display: none;"> soup choice is : </h2>
	</div>
</div>


<script
src="https://code.jquery.com/jquery-3.2.1.min.js"
integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

</body>
</html>

<script type="text/javascript">

	var combo_choice = {

		"1":{
			"en":"Chicken Cutlet",
			"cn":"麵包雞"
		},
		"2":{
			"en":"Pork Cutlet",
			"cn":"麵包豬"
		},
		"3":{
			"en":"Teriyaki Chicken",
			"cn":"鐵板雞"
		},
		"4":{
			"en":"Teriyaki Salmon",
			"cn":"鐵板三文魚"
		},
		"5":{
			"en":"Teriyaki Beef Steak",
			"cn":"鐵板牛扒"
		},
		"6":{
			"en":"Beef Steak with Black Pepper Sauce",
			"cn":"鐵板黑椒牛扒"
		},
		"7":{
			"en":"Teriyaki Beef Short Ribs",
			"cn":"牛仔骨"
		},
		"8":{
			"en":"BBQ Eel",
			"cn":"鰻魚"
		},
		"9":{
			"en":"Lemongrass Chicken Fillet",
			"cn":"香茅雞扒"
		},
		"10":{
			"en":"Lemongrass Pork Fillet",
			"cn":"香茅豬扒"
		},
		"11":{
			"en":"Spicy Chicken",
			"cn":"香辣雞扒"
		}
	}

	var ramen_choice = {
		"1":{
			"en":"BBQ Pork Ramen",
			"cn":"叉燒拉面"
		},
		"2":{
			"en":"Beef Kimchi Ramen",
			"cn":"牛肉泡菜拉面"
		},
		"3":{
			"en":"Chicken Cutlet Ramen",
			"cn":"面包雞拉面"
		},
		"4":{
			"en":"Pork Cutlet Ramen",
			"cn":"面包豬拉面"
		},
		"5":{
			"en":"Beef Tendon Ramen",
			"cn":"牛肉筋拉面"
		},
		"6":{
			"en":"Tendorous Rib Ramen",
			"cn":"豬軟骨拉面"
		},
		"7":{
			"en":"Seafood Ramen",
			"cn":"海鮮拉面"
		},
		"8":{
			"en":"Squid with Assorted Vegetables Udon",
			"cn":"雜菜魷魚絲烏冬面"
		},
		"9":{
			"en":"Tempura Shrimp w/ Assorted Vegetables Udon",
			"cn":"雜菜天婦羅蝦烏冬面"
		},
		"10":{
			"en":"Crab with Assorted Vegetables Udon",
			"cn":"雜菜蟹柳烏冬面"
		},
		"11":{
			"en":"Seafood Udon",
			"cn":"海鮮烏冬面"
		}
	}

	var soup_choice = {
		"1":{
			"en":"dandan porkbone soup",
			"cn":"担担筒骨 。湯頭"
		},
		"2":{
			"en":"spicy soup",
			"cn":"地獄 。湯頭"
		},
		"3":{
			"en" : "tom yum kung soup",
			"cn": "冬陰功 。湯頭"
		},
		"4":{
			"en":"curry soup",
			"cn":"咖喱 。湯頭"
		},
		"5":{
			"en":"chicken soup",
			"cn":"雞 。湯頭"
		}
	}

	$("#input").on("input",function(){
		$('#text').html('').append($(this).val());
	});
	$(document).bind("keyup", function(e){
		if(e.keyCode == 32){
			$("#space").show(0).delay(500).hide(0);
		}
	});

	function roll(i,num,choice){
		/* initializer */
		$("#result").html('').html(' result is : ');
		$("#soup").html('').html(' soup choice is : ');

		if(choice=="combo"){
			var max = 11;
			var min = 1;	
			var prefix = "RS";
			var food = combo_choice;

		}else if (choice == "ramen"){
			var max = 11;
			var min = 1;
			var prefix = "N";
			var food = ramen_choice;
			var soup_max = 5;
			var soup_min = 1;
			var soup = soup_choice;
		}
		/***************/
		

		window.setTimeout(function() {

			$("button").attr("disabled",true);

			var num = (Math.random() * max) + min;
			$("#menu").html(prefix + Math.floor(num)).show();

			if(choice=="ramen"){
				var soup_num = (Math.random() * soup_max) + soup_min;
				$("#soup").show();
			}else{
				$("#soup").hide();
			}

			/* terminating condition */
			if(i == 300){ 
				if(choice=="ramen"){
					soup_num = Math.floor(soup_num);
					num = Math.floor(num);
					$("#soup").hide();
					$("#result").hide();

					$("#soup").append(soup[soup_num]["en"] + "---" + soup[soup_num]["cn"]).fadeIn("slow");

					$("#result").append(food[num]["en"] + "---" + food[num]["cn"]).fadeIn("slow");

				}else{
					num = Math.floor(num);
					$("#result").hide();
					$("#result").append(food[num]["en"] + "---" + food[num]["cn"]).show("slow");
				}

				$("button").attr("disabled",false);
				
				return;
			}
			/*************************/

			i=i+10; //increase each by 10

			roll(i,num,choice); //recursion
			
			console.log(i);
		},i); 
	}
</script>